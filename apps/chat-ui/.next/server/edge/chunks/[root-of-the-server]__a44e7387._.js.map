{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/chat-ui/src/libs/Arcjet.ts"],"sourcesContent":["import arcjet, { shield } from '@arcjet/next';\n\n// Create a base Arcjet instance which can be imported and extended in each route.\nexport default arcjet({\n  // Get your site key from https://launch.arcjet.com/Q6eLbRE\n  // Use `process.env` instead of Env to reduce bundle size in middleware\n  key: process.env.ARCJET_KEY ?? '',\n  // Identify the user by their IP address\n  characteristics: ['ip.src'],\n  rules: [\n    // Protect against common attacks with Arcjet Shield\n    shield({\n      mode: 'LIVE', // will block requests. Use \"DRY_RUN\" to log only\n    }),\n    // Other rules are added in different routes\n  ],\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AAAA;;;;;;;;uCAGe,CAAA,GAAA,uLAAA,CAAA,UAAM,AAAD,EAAE;IACpB,2DAA2D;IAC3D,uEAAuE;IACvE,KAAK,QAAQ,GAAG,CAAC,UAAU,IAAI;IAC/B,wCAAwC;IACxC,iBAAiB;QAAC;KAAS;IAC3B,OAAO;QACL,oDAAoD;QACpD,CAAA,GAAA,6KAAA,CAAA,SAAM,AAAD,EAAE;YACL,MAAM;QACR;KAED;AACH"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/chat-ui/src/utils/AppConfig.ts"],"sourcesContent":["import type { LocalizationResource } from '@clerk/types';\nimport type { LocalePrefixMode } from 'next-intl/routing';\nimport { enUS, frFR } from '@clerk/localizations';\n\nconst localePrefix: LocalePrefixMode = 'as-needed';\n\n// FIXME: Update this configuration file based on your project information\nexport const AppConfig = {\n  name: 'Nextjs Starter',\n  locales: ['en', 'fr'],\n  defaultLocale: 'en',\n  localePrefix,\n};\n\nconst supportedLocales: Record<string, LocalizationResource> = {\n  en: enUS,\n  fr: frFR,\n};\n\nexport const ClerkLocalizations = {\n  defaultLocale: enUS,\n  supportedLocales,\n};\n"],"names":[],"mappings":";;;;AAEA;;AAEA,MAAM,eAAiC;AAGhC,MAAM,YAAY;IACvB,MAAM;IACN,SAAS;QAAC;QAAM;KAAK;IACrB,eAAe;IACf;AACF;AAEA,MAAM,mBAAyD;IAC7D,IAAI,wLAAA,CAAA,OAAI;IACR,IAAI,wLAAA,CAAA,OAAI;AACV;AAEO,MAAM,qBAAqB;IAChC,eAAe,wLAAA,CAAA,OAAI;IACnB;AACF"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/chat-ui/src/libs/i18nRouting.ts"],"sourcesContent":["import { defineRouting } from 'next-intl/routing';\nimport { AppConfig } from '@/utils/AppConfig';\n\nexport const routing = defineRouting({\n  locales: AppConfig.locales,\n  localePrefix: AppConfig.localePrefix,\n  defaultLocale: AppConfig.defaultLocale,\n});\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,UAAU,CAAA,GAAA,gQAAA,CAAA,gBAAa,AAAD,EAAE;IACnC,SAAS,uJAAA,CAAA,YAAS,CAAC,OAAO;IAC1B,cAAc,uJAAA,CAAA,YAAS,CAAC,YAAY;IACpC,eAAe,uJAAA,CAAA,YAAS,CAAC,aAAa;AACxC"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/apps/chat-ui/src/middleware.ts"],"sourcesContent":["import type { NextFetchEvent, NextRequest } from 'next/server';\nimport { detectBot } from '@arcjet/next';\nimport { clerkMiddleware, createRouteMatcher } from '@clerk/nextjs/server';\nimport createMiddleware from 'next-intl/middleware';\nimport { NextResponse } from 'next/server';\nimport arcjet from '@/libs/Arcjet';\nimport { routing } from './libs/i18nRouting';\n\nconst handleI18nRouting = createMiddleware(routing);\n\nconst isProtectedRoute = createRouteMatcher([\n  '/dashboard(.*)',\n  '/:locale/dashboard(.*)',\n]);\n\nconst isAuthPage = createRouteMatcher([\n  '/sign-in(.*)',\n  '/:locale/sign-in(.*)',\n  '/sign-up(.*)',\n  '/:locale/sign-up(.*)',\n]);\n\n// Improve security with Arcjet\nconst aj = arcjet.withRule(\n  detectBot({\n    mode: 'LIVE',\n    // Block all bots except the following\n    allow: [\n      // See https://docs.arcjet.com/bot-protection/identifying-bots\n      'CATEGORY:SEARCH_ENGINE', // Allow search engines\n      'CATEGORY:PREVIEW', // Allow preview links to show OG images\n      'CATEGORY:MONITOR', // Allow uptime monitoring services\n    ],\n  }),\n);\n\nexport default async function middleware(\n  request: NextRequest,\n  event: NextFetchEvent,\n) {\n  // Verify the request with Arcjet\n  // Use `process.env` instead of Env to reduce bundle size in middleware\n  if (process.env.ARCJET_KEY) {\n    const decision = await aj.protect(request);\n\n    if (decision.isDenied()) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n  }\n\n  // Clerk keyless mode doesn't work with i18n, this is why we need to run the middleware conditionally\n  if (\n    isAuthPage(request) || isProtectedRoute(request)\n  ) {\n    return clerkMiddleware(async (auth, req) => {\n      if (isProtectedRoute(req)) {\n        const locale = req.nextUrl.pathname.match(/(\\/.*)\\/dashboard/)?.at(1) ?? '';\n\n        const signInUrl = new URL(`${locale}/sign-in`, req.url);\n\n        await auth.protect({\n          unauthenticatedUrl: signInUrl.toString(),\n        });\n      }\n\n      return handleI18nRouting(request);\n    })(request, event);\n  }\n\n  return handleI18nRouting(request);\n}\n\nexport const config = {\n  // Match all pathnames except for\n  // - … if they start with `/api`, `/trpc`, `/_next` or `/_vercel`\n  // - … the ones containing a dot (e.g. `favicon.ico`)\n  matcher: '/((?!_next|_vercel|monitoring|.*\\\\..*).*)',\n};\n"],"names":[],"mappings":";;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;;AAEA,MAAM,oBAAoB,CAAA,GAAA,oNAAA,CAAA,UAAgB,AAAD,EAAE,wJAAA,CAAA,UAAO;AAElD,MAAM,mBAAmB,CAAA,GAAA,wMAAA,CAAA,qBAAkB,AAAD,EAAE;IAC1C;IACA;CACD;AAED,MAAM,aAAa,CAAA,GAAA,wMAAA,CAAA,qBAAkB,AAAD,EAAE;IACpC;IACA;IACA;IACA;CACD;AAED,+BAA+B;AAC/B,MAAM,KAAK,mJAAA,CAAA,UAAM,CAAC,QAAQ,CACxB,CAAA,GAAA,6KAAA,CAAA,YAAS,AAAD,EAAE;IACR,MAAM;IACN,sCAAsC;IACtC,OAAO;QACL,8DAA8D;QAC9D;QACA;QACA;KACD;AACH;AAGa,eAAe,WAC5B,OAAoB,EACpB,KAAqB;IAErB,iCAAiC;IACjC,uEAAuE;IACvE,IAAI,QAAQ,GAAG,CAAC,UAAU,EAAE;QAC1B,MAAM,WAAW,MAAM,GAAG,OAAO,CAAC;QAElC,IAAI,SAAS,QAAQ,IAAI;YACvB,OAAO,mNAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAY,GAAG;gBAAE,QAAQ;YAAI;QACjE;IACF;IAEA,qGAAqG;IACrG,IACE,WAAW,YAAY,iBAAiB,UACxC;QACA,OAAO,CAAA,GAAA,2MAAA,CAAA,kBAAe,AAAD,EAAE,OAAO,MAAM;YAClC,IAAI,iBAAiB,MAAM;gBACzB,MAAM,SAAS,IAAI,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,sBAAsB,GAAG,MAAM;gBAEzE,MAAM,YAAY,IAAI,IAAI,GAAG,OAAO,QAAQ,CAAC,EAAE,IAAI,GAAG;gBAEtD,MAAM,KAAK,OAAO,CAAC;oBACjB,oBAAoB,UAAU,QAAQ;gBACxC;YACF;YAEA,OAAO,kBAAkB;QAC3B,GAAG,SAAS;IACd;IAEA,OAAO,kBAAkB;AAC3B;AAEO,MAAM,SAAS;IACpB,iCAAiC;IACjC,iEAAiE;IACjE,qDAAqD;IACrD,SAAS;AACX"}}]
}